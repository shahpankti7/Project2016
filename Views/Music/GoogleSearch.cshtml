
@{
    ViewBag.Title = "GoogleSearch";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<html>

<head>

    <link rel="stylesheet" type="text/css" href="~/Content/search.css"/>
    
    <script>
        var myCallback = function () {
            if (document.readyState == 'complete') {
                google.search.cse.element.render({
                    div: "test",
                    tag: 'search'
                });
            } else {
                google.setOnLoadCallback(function () {
                    google.search.cse.element.render({
                        div: "test",
                        tag: 'search'
                    });
                }, true);
            }
        };

        window.__gcse = { parsetags: 'explicit', callback: myCallback };
        (function () {
            var cx = '005311785776570951476:vh7hjgyj60s';
            var gcse = document.createElement('script'); gcse.type = 'text/javascript';
            gcse.async = true;
            gcse.src = (document.location.protocol == 'https' ? 'https:' : 'http:') +
                '//www.google.com/cse/cse.js?cx=' + cx;
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(gcse, s);
        })();
    </script>
</head>

<body>

    <div style="text-align:right;">
        <h4>Hello, @ViewData["Username"]!</h4>
    </div>

    <div id="test"></div>
</body>

</html>